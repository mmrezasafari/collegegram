paths:
  /users/{id}/posts: 
    get: 
      summary: Get posts 
      tags:
        - posts
      security:
        - accessToken: []
        - refreshToken: []
      parameters: 
        - in: path
          name: id
          required: true
          schema:
            type: string     
      responses: 
        '200': 
          description: get successful posts
          content:
            application/json: 
              schema:
                type: array
                properties: 
                  success: 
                    type: boolean
                  data:
                    $ref: "#/components/schemas/Post"
                example: 
                  success: true
                  example:
                  - id: 1
                    caption: "I don’t compete, I set the standard"
                    images: 
                      - "/uploads/1.jpg"
                      - "/uploads/2.jpg"
                  - id: 2
                    caption: "Collecting memories, not things"
                    images: 
                      - "/uploads/3.jpg"

        400:
          description: Bad request
          content:
            application/json:
              schema:
                  $ref: "#/components/schemas/Error"
              example:
                success: false
                message: "شناسه کاربر معتبر نیست"
        401:
          description: unauthorized
          content:
            application/json:
              schema:
                  $ref: "#/components/schemas/Error"
              example:
                success: false
                message: "احراز هویت انجام نشده است"
        404:          
          description: User not found
          content:
            application/json:
              schema:
                  $ref: "#/components/schemas/Error"
              example:
                success: false
                message: "کاربر یافت نشد"
        500:
          description: Internal server error
          content:
            application/json:
              schema:
                  $ref: "#/components/schemas/Error"
              example:
                success: false
                message: "خطای سرور"
    post:
      summery: Create post
      tags:
        - posts
      security:
        - accessToken: []
        - refreshToken: []
      parameters: 
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content: 
          multipart/form-data:
            required: [images]
            schema:
              type: object
              properties:
                caption: 
                  type: string
                images:
                  type: array
                  items:
                    type: string
                    format: binary
              example:
                caption: "This is a caption"
                images: "example.jpg"

      responses: 
        200:
          description: Create successful post
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    $ref: "#/components/schemas/Post"
                example:
                  success: true
                  data:
                    id: "1"
                    caption: "This is a caption"
                    user:
                      id: "1"
                      username: "daleya"
                      email: "test@gmail.com"
                      firstName: ""
                      lastName: ""
                      bio: ""
                      imageUrl: ""
                    images:
                      id: "1"
                      path: "example.jpg"
        400: 
          description: Bad Request
          content: 
            application/json: 
              schema: 
                $ref: "#/components/schemas/Error"
              examples: 
                ImageIsBiggerThanLimit:
                  value:  
                    success: false
                    message: "حجم عکس زیاد است"
                CaptionIsNotValid: 
                  value:
                    success: false
                    message: "کپشن بیش از حد بزرگ است"
                ImageIsNotValid:
                  value: 
                    success: false
                    message: "این فرمت پشتیبانی نمی‌شود"
                IdIsNotValid:
                  value:
                    success: false
                    message: "شناسه کاربر معتبر نیست"

        401:
          description: unauthorized
          content:
            application/json:
              schema:
                  $ref: "#/components/schemas/Error"
              example:
                success: false
                message: "احراز هویت انجام نشده است"
        404:          
          description: User not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
              example:
                success: false
                message: "کاربر یافت نشد"
        500: 
          description: "Internal Server Error"
          content: 
            application/json: 
              schema: 
                $ref: "#/components/schemas/Error"
              example: 
                success: false
                message: "خطای سرور"

                
